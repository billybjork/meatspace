# Generic project metadata
name: meatspace-ingest
prefect-version: 3

# Define how deployments are built (currently using default)
build: null

# Define deployments
deployments:
  - name: scheduled-ingest-dispatcher
    entrypoint: flows/ingest_flows.py:scheduled_ingest_initiator # Path to file:flow_function
    work_pool:
      name: default-agent-pool # Target work pool
      work_queue_name: default # Target work queue
    schedule:
      interval: 60 # Run every 60 seconds (1 minute)
    tags: ["ingest", "scheduled"]
    description: Periodically checks DB for new ingest work and triggers tasks.
    parameters: {} # Add if the flow takes parameters (later)